SRC=global.f90 ANGLES.f90 BSL_SYM.f90 PERFORMANCE.f90 CONNECT_WAKE.f90 PLOT_PRESSURE.f90 CONVECT.f90 RESHAPE_MAT.f90 CROSS_PDT.f90 RESHAPE_MAT2.f90 RHS.f90 INF_MATRIXWaWi.f90 SPLINE.f90 INF_MATRIXWiWi.f90 SPLINT.f90 INF_WaWa.f90 TIME_VARYING_KINEMATICS.f90 INF_WiWa.f90 TIME_VARYING_MORPHING.f90 INITIALIZE.f90 TIME_VARYING_MORPHING_SPLINE.f90 TRAPZ.f90 KINEMATICS_PARAMETER_VALUES.f90 VECTS.f90 KnotVector2.f90 VEL_KIN.f90 LD_VECTS.f90 LOADS.f90 ksgcsu07.f90 MORPHING_PARAMETER_VALUES.f90 ksmaxim07.f90 MORPHING_SPLINE_KNOTS.f90 ksmaxsu07.f90 MORPHING_WING_SHAPE.f90 shared_modules.f90 iga_global.f90 igalib.f90 MEMORY_ALLOCATION.f90 P1_GB.f90 GRID_GENERATION.f90 INPUT.f90 MAIN_UVLM.f90 OUTPUT_DATA.f90

FC  = gfortran
LIB = -llapack
FFLAGS = -O3

OBJ=${SRC:.f90=.o}

.SUFFIXES:.o .f90
.f90.o:
	${FC} ${FFLAGS} -c $<

code: ${OBJ}
	${FC} -o $@ $^ ${FFLAGS} ${LIB}

prof: code
	./code -pg
	gprof code > a.out
	open a.out

clean:
	rm -f ${OBJ} code *.o *~ *.mod *.dat